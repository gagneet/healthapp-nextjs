# ============================================================================
# HEALTHCARE APPLICATION - TEST ENVIRONMENT CONFIGURATION
# ============================================================================
# Test environment configuration - inherits from .env with test-specific overrides
#
# SECURITY WARNING: Do not commit files with real credentials to version
# control.
# ============================================================================

# ============================================================================
# APPLICATION CORE SETTINGS
# ============================================================================
NODE_ENV=development
PORT=3002
FRONTEND_URL=http://healthapp.gagneet.com:3002

# ============================================================================
# API CONFIGURATION
# ============================================================================
BACKEND_URL=http://healthapp.gagneet.com:3002
NEXT_PUBLIC_API_URL=http://healthapp.gagneet.com:3002/api
VERSION=0.8.2

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL with Prisma)
# ============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=healthapp_test
POSTGRES_USER=healthapp_user
POSTGRES_PASSWORD=secure_test_postgres
DATABASE_URL="postgresql://healthapp_user:secure_test_postgres@postgres:5432/healthapp_test?schema=public"
POSTGRES_ADDITIONAL_WAIT=60

# ============================================================================
# REDIS CONFIGURATION (Session Storage & Caching)
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=secure_redis_password

# ============================================================================
# AUTHENTICATION (Auth.js v5 & JWT)
# ============================================================================
NEXTAUTH_SECRET=test-nextauth-secret-2024-secure-key
NEXTAUTH_URL=http://healthapp.gagneet.com:3002
AUTH_SECRET=test-nextauth-secret-2024-secure-key

# ============================================================================
# JWT AUTHENTICATION (Legacy - keeping for compatibility)
# ============================================================================
JWT_SECRET=test_jwt_secret_key_2024_secure_key_for_testing_environment_only
JWT_REFRESH_SECRET=test_refresh_jwt_secret_key_2024_secure_key_for_testing_environment_only
JWT_EXPIRES_IN=30m
JWT_REFRESH_EXPIRE=1d

# ============================================================================
# SESSION MANAGEMENT
# ============================================================================
SESSION_SECRET=test_session_secret_key_2024_secure_key_for_testing_environment_only
SESSION_TIMEOUT=7200000

# ============================================================================
# GOOGLE AUTHENTICATION (Optional)
# ============================================================================
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ============================================================================
# DOCKER DEPLOYMENT CONFIGURATION
# ============================================================================
DOMAIN=healthapp.gagneet.com
HOST_IP=192.168.0.148
# Environment will be set by deployment script (dev/test/prod -> NODE_ENV mapping)
STACK_NAME_PREFIX=healthapp
# Docker Configuration
COMPOSE_PROJECT_NAME=healthapp-test
DOCKER_BUILDKIT=1

# Service Replica Configuration
REPLICAS=2

# Postgres Admin Passwords
PGADMIN_PASSWORD=secure_admin_password

# ============================================================================
# DEVELOPMENT & DEBUGGING
# ============================================================================
DEBUG=healthapp:*
LOG_LEVEL=debug
NEXT_TELEMETRY_DISABLED=1
WDS_SOCKET_HOST=
WDS_SOCKET_PORT=
WATCHPACK_POLLING=
ALLOWED_DEV_ORIGINS=
NEXT_PUBLIC_DEBUG_LOGS=

# Performance Optimizations
NODE_OPTIONS="--max-old-space-size=4096"

# ============================================================================
# FILE STORAGE (AWS S3 or Local)
# ============================================================================
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=healthapp-dev-bucket

# ============================================================================
# EMAIL NOTIFICATIONS (e.g., SendGrid, Gmail)
# ============================================================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password

# ============================================================================
# VIDEO CONSULTATION (Daily.co)
# ============================================================================
# IMPORTANT: Set DAILY_API_KEY to your actual Daily.co API key before using video consultation features.
# The application code should validate that DAILY_API_KEY is not empty or a placeholder before use.
DAILY_API_KEY=d4240454766b698d071f3a3130d5659d75600d7def286c8d7246e63b8fda9fb7
DAILY_API_URL="https://api.daily.co/v1"

# ============================================================================
# LAB INTEGRATIONS (Quest Diagnostics, LabCorp)
# ============================================================================
QUEST_API_KEY=your_quest_api_key
LABCORP_API_KEY=your_labcorp_api_key
LAB_WEBHOOK_API_KEY=your_lab_webhook_api_key
LAB_WEBHOOK_SECRET=your_lab_webhook_secret
LAB_API_URL=https://api.lab-partner.com/v1
LAB_API_KEY=your_lab_api_key

# ============================================================================
# PLUGIN SYSTEM
# ============================================================================
ENABLED_PLUGINS=fitbit,omron-bp,generic-bluetooth

# ============================================================================
# SEEDING
# ============================================================================
SEED_DEFAULT_PASSWORD=TempPassword123!

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# PAYMENT INTEGRATION & SUBSCRIPTION MANAGEMENT
# ============================================================================

# Stripe Configuration (Primary Payment Provider)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here
STRIPE_API_VERSION=2023-10-16

# RazorPay Configuration (Indian Market)
RAZORPAY_KEY_ID=your_razorpay_key_id_here
RAZORPAY_KEY_SECRET=your_razorpay_key_secret_here
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret_here

# Payment Configuration
PAYMENT_SUCCESS_URL=http://localhost:3002/dashboard/billing/success
PAYMENT_CANCEL_URL=http://localhost:3002/dashboard/billing/cancel
PAYMENT_WEBHOOK_URL=http://localhost:3002/api/webhooks/payments

# Subscription & Billing Settings
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,INR
DEFAULT_TRIAL_DAYS=7
GRACE_PERIOD_DAYS=3
INVOICE_DUE_DAYS=7
ENABLE_PROMO_CODES=true
MAX_PROMO_USAGE=100

# ============================================================================
# IOT & MEDICAL DEVICE INTEGRATION
# ============================================================================

# IoT Device Configuration
IOT_DEVICE_API_KEY=your_iot_device_api_key
IOT_WEBHOOK_SECRET=your_iot_webhook_secret
IOT_DATA_ENCRYPTION_KEY=your_32_char_encryption_key_here

# FHIR Integration for Medical Devices
FHIR_SERVER_URL=http://localhost:8080/fhir
FHIR_CLIENT_ID=your_fhir_client_id
FHIR_CLIENT_SECRET=your_fhir_client_secret

# Medical Device Standards
ENABLE_DEVICE_VERIFICATION=true
DEVICE_CALIBRATION_INTERVAL=86400000
VITALS_ALERT_THRESHOLDS=true

# ============================================================================
# NOTIFICATION SERVICES
# ============================================================================

# SMS Notifications (Twilio)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Push Notifications (Firebase Cloud Messaging)
FCM_SERVER_KEY=your_fcm_server_key
FCM_PROJECT_ID=your_firebase_project_id

# Notification Settings
APPOINTMENT_REMINDERS_ENABLED=true
MEDICATION_REMINDERS_ENABLED=true
BILLING_NOTIFICATIONS_ENABLED=true
VITALS_ALERTS_ENABLED=true

# ============================================================================
# CLINICAL DECISION SUPPORT INTEGRATION
# ============================================================================

# Drug Database APIs
RXNORM_API_KEY=your_rxnorm_api_key
FDA_API_KEY=your_fda_api_key
DRUG_INTERACTION_API_KEY=your_drug_interaction_api_key

# Clinical Knowledge Bases
CLINICAL_DECISION_API_KEY=your_clinical_api_key
MEDICAL_KNOWLEDGE_BASE_URL=https://api.medicalkb.com
ENABLE_CLINICAL_ALERTS=true

# ============================================================================
# HEALTHCARE COMPLIANCE & SECURITY
# ============================================================================
PHI_ENCRYPTION_KEY=your_phi_encryption_key_32_chars
AUDIT_LOG_RETENTION_DAYS=365
ENABLE_HIPAA_AUDIT=false
ENCRYPTION_AT_REST=true
DATA_ANONYMIZATION=true

# ============================================================================
# DEVELOPMENT TOOLS AND TESTING
# ============================================================================
ENABLE_API_DOCS=true
MOCK_EXTERNAL_SERVICES=true
MOCK_PAYMENT_PROVIDERS=true
MOCK_IOT_DEVICES=true
